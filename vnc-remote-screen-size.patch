diff -up tsclient-2.0.2/data/tsclient.glade.vnc-remotesize tsclient-2.0.2/data/tsclient.glade
--- tsclient-2.0.2/data/tsclient.glade.vnc-remotesize	2008-11-26 17:43:41.000000000 -0500
+++ tsclient-2.0.2/data/tsclient.glade	2009-01-23 22:25:31.000000000 -0500
@@ -1,6 +1,7 @@
 <?xml version="1.0"?>
 <glade-interface>
-  <requires-version lib="gtk+" version="2.12"/>
+  <!-- interface-requires gtk+ 2.16 -->
+  <!-- interface-naming-policy toplevel-contextual -->
   <widget class="GtkWindow" id="main_window">
     <property name="visible">True</property>
     <property name="title" translatable="yes">Terminal Server Client</property>
@@ -10,7 +11,7 @@
         <child>
           <widget class="GtkToolbar" id="main_toolbar">
             <property name="visible">True</property>
-            <property name="toolbar_style">GTK_TOOLBAR_BOTH_HORIZ</property>
+            <property name="toolbar_style">both-horiz</property>
             <child>
               <widget class="GtkToggleToolButton" id="add_button">
                 <property name="visible">True</property>
@@ -20,6 +21,7 @@
                 <property name="stock_id">gtk-add</property>
               </widget>
               <packing>
+                <property name="expand">False</property>
                 <property name="homogeneous">True</property>
               </packing>
             </child>
@@ -32,6 +34,7 @@
                 <property name="stock_id">gtk-remove</property>
               </widget>
               <packing>
+                <property name="expand">False</property>
                 <property name="homogeneous">True</property>
               </packing>
             </child>
@@ -44,6 +47,7 @@
                 <property name="stock_id">gtk-properties</property>
               </widget>
               <packing>
+                <property name="expand">False</property>
                 <property name="homogeneous">True</property>
               </packing>
             </child>
@@ -54,6 +58,7 @@
                 <property name="stock_id">gtk-quit</property>
               </widget>
               <packing>
+                <property name="expand">False</property>
                 <property name="homogeneous">True</property>
               </packing>
             </child>
@@ -61,21 +66,22 @@
           <packing>
             <property name="expand">False</property>
             <property name="fill">False</property>
+            <property name="position">0</property>
           </packing>
         </child>
         <child>
           <widget class="GtkScrolledWindow" id="scrolledwindow1">
             <property name="visible">True</property>
             <property name="can_focus">True</property>
-            <property name="hscrollbar_policy">GTK_POLICY_NEVER</property>
-            <property name="vscrollbar_policy">GTK_POLICY_AUTOMATIC</property>
+            <property name="hscrollbar_policy">never</property>
+            <property name="vscrollbar_policy">automatic</property>
             <child>
               <widget class="GtkIconView" id="icon_view">
                 <property name="width_request">450</property>
                 <property name="height_request">200</property>
                 <property name="visible">True</property>
                 <property name="can_focus">True</property>
-                <property name="selection_mode">GTK_SELECTION_MULTIPLE</property>
+                <property name="selection_mode">multiple</property>
               </widget>
             </child>
           </widget>
@@ -89,7 +95,7 @@
   <widget class="GtkDialog" id="edit_dialog">
     <property name="visible">True</property>
     <property name="title" translatable="yes">Edit Connection</property>
-    <property name="type_hint">GDK_WINDOW_TYPE_HINT_DIALOG</property>
+    <property name="type_hint">dialog</property>
     <property name="has_separator">False</property>
     <child internal-child="vbox">
       <widget class="GtkVBox" id="dialog-vbox1">
@@ -103,7 +109,7 @@
               <widget class="GtkFrame" id="general_frame">
                 <property name="visible">True</property>
                 <property name="label_xalign">0</property>
-                <property name="shadow_type">GTK_SHADOW_NONE</property>
+                <property name="shadow_type">none</property>
                 <child>
                   <widget class="GtkAlignment" id="alignment1">
                     <property name="visible">True</property>
@@ -116,18 +122,12 @@
                         <property name="column_spacing">6</property>
                         <property name="row_spacing">6</property>
                         <child>
-                          <placeholder/>
-                        </child>
-                        <child>
-                          <placeholder/>
-                        </child>
-                        <child>
                           <widget class="GtkCheckButton" id="autostart_checkbox">
+                            <property name="label" translatable="yes">Autostart at login time</property>
                             <property name="visible">True</property>
                             <property name="can_focus">True</property>
-                            <property name="label" translatable="yes">Autostart at login time</property>
+                            <property name="receives_default">False</property>
                             <property name="use_underline">True</property>
-                            <property name="response_id">0</property>
                             <property name="draw_indicator">True</property>
                           </widget>
                           <packing>
@@ -190,11 +190,11 @@ Prompt For Reconnect After Error</proper
                         </child>
                         <child>
                           <widget class="GtkCheckButton" id="shortcut_checkbox">
+                            <property name="label" translatable="yes">Add to Favorites</property>
                             <property name="visible">True</property>
                             <property name="can_focus">True</property>
-                            <property name="label" translatable="yes">Add to Favorites</property>
+                            <property name="receives_default">False</property>
                             <property name="use_underline">True</property>
-                            <property name="response_id">0</property>
                             <property name="draw_indicator">True</property>
                           </widget>
                           <packing>
@@ -202,6 +202,12 @@ Prompt For Reconnect After Error</proper
                             <property name="bottom_attach">4</property>
                           </packing>
                         </child>
+                        <child>
+                          <placeholder/>
+                        </child>
+                        <child>
+                          <placeholder/>
+                        </child>
                       </widget>
                     </child>
                   </widget>
@@ -217,6 +223,9 @@ Prompt For Reconnect After Error</proper
                   </packing>
                 </child>
               </widget>
+              <packing>
+                <property name="position">0</property>
+              </packing>
             </child>
           </widget>
           <packing>
@@ -226,34 +235,44 @@ Prompt For Reconnect After Error</proper
         <child internal-child="action_area">
           <widget class="GtkHButtonBox" id="dialog-action_area1">
             <property name="visible">True</property>
-            <property name="layout_style">GTK_BUTTONBOX_END</property>
+            <property name="layout_style">end</property>
             <child>
               <widget class="GtkButton" id="cancelbutton1">
+                <property name="label">gtk-cancel</property>
+                <property name="response_id">-6</property>
                 <property name="visible">True</property>
                 <property name="can_focus">True</property>
                 <property name="can_default">True</property>
-                <property name="label">gtk-cancel</property>
+                <property name="receives_default">False</property>
                 <property name="use_stock">True</property>
-                <property name="response_id">-6</property>
               </widget>
+              <packing>
+                <property name="expand">False</property>
+                <property name="fill">False</property>
+                <property name="position">0</property>
+              </packing>
             </child>
             <child>
               <widget class="GtkButton" id="okbutton1">
+                <property name="label">gtk-ok</property>
+                <property name="response_id">-5</property>
                 <property name="visible">True</property>
                 <property name="can_focus">True</property>
                 <property name="can_default">True</property>
-                <property name="label">gtk-ok</property>
+                <property name="receives_default">False</property>
                 <property name="use_stock">True</property>
-                <property name="response_id">-5</property>
               </widget>
               <packing>
+                <property name="expand">False</property>
+                <property name="fill">False</property>
                 <property name="position">1</property>
               </packing>
             </child>
           </widget>
           <packing>
             <property name="expand">False</property>
-            <property name="pack_type">GTK_PACK_END</property>
+            <property name="pack_type">end</property>
+            <property name="position">0</property>
           </packing>
         </child>
       </widget>
@@ -262,7 +281,7 @@ Prompt For Reconnect After Error</proper
   <widget class="GtkDialog" id="generic_edit_dialog">
     <property name="visible">True</property>
     <property name="title" translatable="yes">dialog1</property>
-    <property name="type_hint">GDK_WINDOW_TYPE_HINT_DIALOG</property>
+    <property name="type_hint">dialog</property>
     <child internal-child="vbox">
       <widget class="GtkVBox" id="dialog-vbox2">
         <property name="visible">True</property>
@@ -271,7 +290,7 @@ Prompt For Reconnect After Error</proper
             <property name="visible">True</property>
             <property name="border_width">6</property>
             <property name="label_xalign">0</property>
-            <property name="shadow_type">GTK_SHADOW_NONE</property>
+            <property name="shadow_type">none</property>
             <child>
               <widget class="GtkAlignment" id="alignment2">
                 <property name="visible">True</property>
@@ -284,15 +303,12 @@ Prompt For Reconnect After Error</proper
                     <property name="column_spacing">6</property>
                     <property name="row_spacing">6</property>
                     <child>
-                      <placeholder/>
-                    </child>
-                    <child>
                       <widget class="GtkCheckButton" id="terminal_checkbox">
+                        <property name="label" translatable="yes">Run in terminal window</property>
                         <property name="visible">True</property>
                         <property name="can_focus">True</property>
-                        <property name="label" translatable="yes">Run in terminal window</property>
+                        <property name="receives_default">False</property>
                         <property name="use_underline">True</property>
-                        <property name="response_id">0</property>
                         <property name="draw_indicator">True</property>
                       </widget>
                       <packing>
@@ -323,6 +339,9 @@ Prompt For Reconnect After Error</proper
                         <property name="y_options"></property>
                       </packing>
                     </child>
+                    <child>
+                      <placeholder/>
+                    </child>
                   </widget>
                 </child>
               </widget>
@@ -345,34 +364,44 @@ Prompt For Reconnect After Error</proper
         <child internal-child="action_area">
           <widget class="GtkHButtonBox" id="dialog-action_area2">
             <property name="visible">True</property>
-            <property name="layout_style">GTK_BUTTONBOX_END</property>
+            <property name="layout_style">end</property>
             <child>
               <widget class="GtkButton" id="cancelbutton2">
+                <property name="label">gtk-cancel</property>
+                <property name="response_id">-6</property>
                 <property name="visible">True</property>
                 <property name="can_focus">True</property>
                 <property name="can_default">True</property>
-                <property name="label">gtk-cancel</property>
+                <property name="receives_default">False</property>
                 <property name="use_stock">True</property>
-                <property name="response_id">-6</property>
               </widget>
+              <packing>
+                <property name="expand">False</property>
+                <property name="fill">False</property>
+                <property name="position">0</property>
+              </packing>
             </child>
             <child>
               <widget class="GtkButton" id="okbutton2">
+                <property name="label">gtk-ok</property>
+                <property name="response_id">-5</property>
                 <property name="visible">True</property>
                 <property name="can_focus">True</property>
                 <property name="can_default">True</property>
-                <property name="label">gtk-ok</property>
+                <property name="receives_default">False</property>
                 <property name="use_stock">True</property>
-                <property name="response_id">-5</property>
               </widget>
               <packing>
+                <property name="expand">False</property>
+                <property name="fill">False</property>
                 <property name="position">1</property>
               </packing>
             </child>
           </widget>
           <packing>
             <property name="expand">False</property>
-            <property name="pack_type">GTK_PACK_END</property>
+            <property name="pack_type">end</property>
+            <property name="position">0</property>
           </packing>
         </child>
       </widget>
@@ -381,7 +410,7 @@ Prompt For Reconnect After Error</proper
   <widget class="GtkDialog" id="rdp_edit_dialog">
     <property name="visible">True</property>
     <property name="title" translatable="yes">dialog1</property>
-    <property name="type_hint">GDK_WINDOW_TYPE_HINT_DIALOG</property>
+    <property name="type_hint">dialog</property>
     <child internal-child="vbox">
       <widget class="GtkVBox" id="vbox1">
         <property name="visible">True</property>
@@ -394,7 +423,7 @@ Prompt For Reconnect After Error</proper
               <widget class="GtkFrame" id="frame4">
                 <property name="visible">True</property>
                 <property name="label_xalign">0</property>
-                <property name="shadow_type">GTK_SHADOW_NONE</property>
+                <property name="shadow_type">none</property>
                 <child>
                   <widget class="GtkAlignment" id="alignment3">
                     <property name="visible">True</property>
@@ -421,6 +450,7 @@ Prompt For Reconnect After Error</proper
                               <packing>
                                 <property name="expand">False</property>
                                 <property name="fill">False</property>
+                                <property name="position">0</property>
                               </packing>
                             </child>
                             <child>
@@ -467,11 +497,11 @@ Prompt For Reconnect After Error</proper
                         </child>
                         <child>
                           <widget class="GtkRadioButton" id="rdp_custom_window_radio">
+                            <property name="label" translatable="yes">Custom Window Size:</property>
                             <property name="visible">True</property>
                             <property name="can_focus">True</property>
-                            <property name="label" translatable="yes">Custom Window Size:</property>
+                            <property name="receives_default">False</property>
                             <property name="use_underline">True</property>
-                            <property name="response_id">0</property>
                             <property name="draw_indicator">True</property>
                             <property name="group">rdp_fullscreen_radio</property>
                           </widget>
@@ -483,11 +513,11 @@ Prompt For Reconnect After Error</proper
                         </child>
                         <child>
                           <widget class="GtkRadioButton" id="rdp_fullscreen_radio">
+                            <property name="label" translatable="yes">Fullscreen Window</property>
                             <property name="visible">True</property>
                             <property name="can_focus">True</property>
-                            <property name="label" translatable="yes">Fullscreen Window</property>
+                            <property name="receives_default">False</property>
                             <property name="use_underline">True</property>
-                            <property name="response_id">0</property>
                             <property name="draw_indicator">True</property>
                             <property name="group">rdp_custom_window_radio</property>
                           </widget>
@@ -609,11 +639,11 @@ Prompt For Reconnect After Error</proper
                         </child>
                         <child>
                           <widget class="GtkCheckButton" id="sound_check">
+                            <property name="label" translatable="yes">Enable sound forwarding</property>
                             <property name="visible">True</property>
                             <property name="can_focus">True</property>
-                            <property name="label" translatable="yes">Enable sound forwarding</property>
+                            <property name="receives_default">False</property>
                             <property name="use_underline">True</property>
-                            <property name="response_id">0</property>
                             <property name="active">True</property>
                             <property name="draw_indicator">True</property>
                           </widget>
@@ -641,6 +671,7 @@ Prompt For Reconnect After Error</proper
               <packing>
                 <property name="expand">False</property>
                 <property name="fill">False</property>
+                <property name="position">0</property>
               </packing>
             </child>
             <child>
@@ -745,34 +776,44 @@ LAN</property>
         <child internal-child="action_area">
           <widget class="GtkHButtonBox" id="hbuttonbox1">
             <property name="visible">True</property>
-            <property name="layout_style">GTK_BUTTONBOX_END</property>
+            <property name="layout_style">end</property>
             <child>
               <widget class="GtkButton" id="button1">
+                <property name="label">gtk-cancel</property>
+                <property name="response_id">-6</property>
                 <property name="visible">True</property>
                 <property name="can_focus">True</property>
                 <property name="can_default">True</property>
-                <property name="label">gtk-cancel</property>
+                <property name="receives_default">False</property>
                 <property name="use_stock">True</property>
-                <property name="response_id">-6</property>
               </widget>
+              <packing>
+                <property name="expand">False</property>
+                <property name="fill">False</property>
+                <property name="position">0</property>
+              </packing>
             </child>
             <child>
               <widget class="GtkButton" id="button2">
+                <property name="label">gtk-ok</property>
+                <property name="response_id">-5</property>
                 <property name="visible">True</property>
                 <property name="can_focus">True</property>
                 <property name="can_default">True</property>
-                <property name="label">gtk-ok</property>
+                <property name="receives_default">False</property>
                 <property name="use_stock">True</property>
-                <property name="response_id">-5</property>
               </widget>
               <packing>
+                <property name="expand">False</property>
+                <property name="fill">False</property>
                 <property name="position">1</property>
               </packing>
             </child>
           </widget>
           <packing>
             <property name="expand">False</property>
-            <property name="pack_type">GTK_PACK_END</property>
+            <property name="pack_type">end</property>
+            <property name="position">0</property>
           </packing>
         </child>
       </widget>
@@ -781,7 +822,7 @@ LAN</property>
   <widget class="GtkDialog" id="vnc_edit_dialog">
     <property name="visible">True</property>
     <property name="title" translatable="yes">Edit Connection</property>
-    <property name="type_hint">GDK_WINDOW_TYPE_HINT_DIALOG</property>
+    <property name="type_hint">dialog</property>
     <child internal-child="vbox">
       <widget class="GtkVBox" id="vbox2">
         <property name="visible">True</property>
@@ -794,7 +835,7 @@ LAN</property>
               <widget class="GtkFrame" id="frame5">
                 <property name="visible">True</property>
                 <property name="label_xalign">0</property>
-                <property name="shadow_type">GTK_SHADOW_NONE</property>
+                <property name="shadow_type">none</property>
                 <child>
                   <widget class="GtkAlignment" id="alignment5">
                     <property name="visible">True</property>
@@ -802,7 +843,7 @@ LAN</property>
                     <child>
                       <widget class="GtkTable" id="table5">
                         <property name="visible">True</property>
-                        <property name="n_rows">6</property>
+                        <property name="n_rows">7</property>
                         <property name="n_columns">2</property>
                         <property name="column_spacing">6</property>
                         <property name="row_spacing">6</property>
@@ -821,6 +862,7 @@ LAN</property>
                               <packing>
                                 <property name="expand">False</property>
                                 <property name="fill">False</property>
+                                <property name="position">0</property>
                               </packing>
                             </child>
                             <child>
@@ -859,35 +901,35 @@ LAN</property>
                           <packing>
                             <property name="left_attach">1</property>
                             <property name="right_attach">2</property>
-                            <property name="top_attach">3</property>
-                            <property name="bottom_attach">4</property>
+                            <property name="top_attach">4</property>
+                            <property name="bottom_attach">5</property>
                             <property name="x_options"></property>
                             <property name="y_options"></property>
                           </packing>
                         </child>
                         <child>
                           <widget class="GtkRadioButton" id="vnc_custom_window_radio">
+                            <property name="label" translatable="yes">Custom Window Size:</property>
                             <property name="visible">True</property>
                             <property name="can_focus">True</property>
-                            <property name="label" translatable="yes">Custom Window Size:</property>
+                            <property name="receives_default">False</property>
                             <property name="use_underline">True</property>
-                            <property name="response_id">0</property>
                             <property name="draw_indicator">True</property>
                             <property name="group">vnc_fullscreen_radio</property>
                           </widget>
                           <packing>
-                            <property name="top_attach">3</property>
-                            <property name="bottom_attach">4</property>
+                            <property name="top_attach">4</property>
+                            <property name="bottom_attach">5</property>
                             <property name="y_options"></property>
                           </packing>
                         </child>
                         <child>
                           <widget class="GtkRadioButton" id="vnc_fullscreen_radio">
+                            <property name="label" translatable="yes">Fullscreen Window</property>
                             <property name="visible">True</property>
                             <property name="can_focus">True</property>
-                            <property name="label" translatable="yes">Fullscreen Window</property>
+                            <property name="receives_default">False</property>
                             <property name="use_underline">True</property>
-                            <property name="response_id">0</property>
                             <property name="draw_indicator">True</property>
                             <property name="group">vnc_custom_window_radio</property>
                           </widget>
@@ -899,36 +941,53 @@ LAN</property>
                           </packing>
                         </child>
                         <child>
+                          <widget class="GtkRadioButton" id="vnc_remotesize_radio">
+                            <property name="label" translatable="yes">Use Remote Screen Size</property>
+                            <property name="visible">True</property>
+                            <property name="can_focus">True</property>
+                            <property name="receives_default">False</property>
+                            <property name="use_underline">True</property>
+                            <property name="draw_indicator">True</property>
+                            <property name="group">vnc_fullscreen_radio</property>
+                          </widget>
+                          <packing>
+                            <property name="right_attach">2</property>
+                            <property name="top_attach">3</property>
+                            <property name="bottom_attach">4</property>
+                            <property name="x_options">GTK_FILL</property>
+                          </packing>
+                        </child>
+                        <child>
                           <widget class="GtkCheckButton" id="viewonly_checkbox">
+                            <property name="label" translatable="yes">View only</property>
                             <property name="visible">True</property>
                             <property name="can_focus">True</property>
+                            <property name="receives_default">False</property>
                             <property name="tooltip" translatable="yes">Do not send mouse or keyboard actions</property>
-                            <property name="label" translatable="yes">View only</property>
                             <property name="use_underline">True</property>
-                            <property name="response_id">0</property>
                             <property name="draw_indicator">True</property>
                           </widget>
                           <packing>
                             <property name="right_attach">2</property>
-                            <property name="top_attach">5</property>
-                            <property name="bottom_attach">6</property>
+                            <property name="top_attach">6</property>
+                            <property name="bottom_attach">7</property>
                             <property name="y_options"></property>
                           </packing>
                         </child>
                         <child>
                           <widget class="GtkCheckButton" id="shared_checkbox">
+                            <property name="label" translatable="yes">Share with other clients</property>
                             <property name="visible">True</property>
                             <property name="can_focus">True</property>
+                            <property name="receives_default">False</property>
                             <property name="tooltip" translatable="yes">Allows you to share the desktop with other clients already using it.</property>
-                            <property name="label" translatable="yes">Share with other clients</property>
                             <property name="use_underline">True</property>
-                            <property name="response_id">0</property>
                             <property name="draw_indicator">True</property>
                           </widget>
                           <packing>
                             <property name="right_attach">2</property>
-                            <property name="top_attach">4</property>
-                            <property name="bottom_attach">5</property>
+                            <property name="top_attach">5</property>
+                            <property name="bottom_attach">6</property>
                             <property name="y_options"></property>
                           </packing>
                         </child>
@@ -996,6 +1055,9 @@ LAN</property>
                   </packing>
                 </child>
               </widget>
+              <packing>
+                <property name="position">0</property>
+              </packing>
             </child>
           </widget>
           <packing>
@@ -1005,34 +1067,44 @@ LAN</property>
         <child internal-child="action_area">
           <widget class="GtkHButtonBox" id="hbuttonbox2">
             <property name="visible">True</property>
-            <property name="layout_style">GTK_BUTTONBOX_END</property>
+            <property name="layout_style">end</property>
             <child>
               <widget class="GtkButton" id="button3">
+                <property name="label">gtk-cancel</property>
+                <property name="response_id">-6</property>
                 <property name="visible">True</property>
                 <property name="can_focus">True</property>
                 <property name="can_default">True</property>
-                <property name="label">gtk-cancel</property>
+                <property name="receives_default">False</property>
                 <property name="use_stock">True</property>
-                <property name="response_id">-6</property>
               </widget>
+              <packing>
+                <property name="expand">False</property>
+                <property name="fill">False</property>
+                <property name="position">0</property>
+              </packing>
             </child>
             <child>
               <widget class="GtkButton" id="button4">
+                <property name="label">gtk-ok</property>
+                <property name="response_id">-5</property>
                 <property name="visible">True</property>
                 <property name="can_focus">True</property>
                 <property name="can_default">True</property>
-                <property name="label">gtk-ok</property>
+                <property name="receives_default">False</property>
                 <property name="use_stock">True</property>
-                <property name="response_id">-5</property>
               </widget>
               <packing>
+                <property name="expand">False</property>
+                <property name="fill">False</property>
                 <property name="position">1</property>
               </packing>
             </child>
           </widget>
           <packing>
             <property name="expand">False</property>
-            <property name="pack_type">GTK_PACK_END</property>
+            <property name="pack_type">end</property>
+            <property name="position">0</property>
           </packing>
         </child>
       </widget>
@@ -1041,7 +1113,7 @@ LAN</property>
   <widget class="GtkDialog" id="web_edit_dialog">
     <property name="visible">True</property>
     <property name="title" translatable="yes">dialog1</property>
-    <property name="type_hint">GDK_WINDOW_TYPE_HINT_DIALOG</property>
+    <property name="type_hint">dialog</property>
     <child internal-child="vbox">
       <widget class="GtkVBox" id="vbox3">
         <property name="visible">True</property>
@@ -1050,7 +1122,7 @@ LAN</property>
             <property name="visible">True</property>
             <property name="border_width">6</property>
             <property name="label_xalign">0</property>
-            <property name="shadow_type">GTK_SHADOW_NONE</property>
+            <property name="shadow_type">none</property>
             <child>
               <widget class="GtkAlignment" id="alignment7">
                 <property name="visible">True</property>
@@ -1062,18 +1134,6 @@ LAN</property>
                     <property name="column_spacing">6</property>
                     <property name="row_spacing">6</property>
                     <child>
-                      <placeholder/>
-                    </child>
-                    <child>
-                      <placeholder/>
-                    </child>
-                    <child>
-                      <placeholder/>
-                    </child>
-                    <child>
-                      <placeholder/>
-                    </child>
-                    <child>
                       <widget class="GtkEntry" id="url_entry">
                         <property name="visible">True</property>
                         <property name="can_focus">True</property>
@@ -1117,34 +1177,44 @@ LAN</property>
         <child internal-child="action_area">
           <widget class="GtkHButtonBox" id="hbuttonbox3">
             <property name="visible">True</property>
-            <property name="layout_style">GTK_BUTTONBOX_END</property>
+            <property name="layout_style">end</property>
             <child>
               <widget class="GtkButton" id="button5">
+                <property name="label">gtk-cancel</property>
+                <property name="response_id">-6</property>
                 <property name="visible">True</property>
                 <property name="can_focus">True</property>
                 <property name="can_default">True</property>
-                <property name="label">gtk-cancel</property>
+                <property name="receives_default">False</property>
                 <property name="use_stock">True</property>
-                <property name="response_id">-6</property>
               </widget>
+              <packing>
+                <property name="expand">False</property>
+                <property name="fill">False</property>
+                <property name="position">0</property>
+              </packing>
             </child>
             <child>
               <widget class="GtkButton" id="button6">
+                <property name="label">gtk-ok</property>
+                <property name="response_id">-5</property>
                 <property name="visible">True</property>
                 <property name="can_focus">True</property>
                 <property name="can_default">True</property>
-                <property name="label">gtk-ok</property>
+                <property name="receives_default">False</property>
                 <property name="use_stock">True</property>
-                <property name="response_id">-5</property>
               </widget>
               <packing>
+                <property name="expand">False</property>
+                <property name="fill">False</property>
                 <property name="position">1</property>
               </packing>
             </child>
           </widget>
           <packing>
             <property name="expand">False</property>
-            <property name="pack_type">GTK_PACK_END</property>
+            <property name="pack_type">end</property>
+            <property name="position">0</property>
           </packing>
         </child>
       </widget>
@@ -1153,7 +1223,7 @@ LAN</property>
   <widget class="GtkDialog" id="mainframe_edit_dialog">
     <property name="visible">True</property>
     <property name="title" translatable="yes">dialog1</property>
-    <property name="type_hint">GDK_WINDOW_TYPE_HINT_DIALOG</property>
+    <property name="type_hint">dialog</property>
     <child internal-child="vbox">
       <widget class="GtkVBox" id="vbox4">
         <property name="visible">True</property>
@@ -1162,7 +1232,7 @@ LAN</property>
             <property name="visible">True</property>
             <property name="border_width">6</property>
             <property name="label_xalign">0</property>
-            <property name="shadow_type">GTK_SHADOW_NONE</property>
+            <property name="shadow_type">none</property>
             <child>
               <widget class="GtkAlignment" id="alignment8">
                 <property name="visible">True</property>
@@ -1179,6 +1249,7 @@ LAN</property>
                       <packing>
                         <property name="expand">False</property>
                         <property name="fill">False</property>
+                        <property name="position">0</property>
                       </packing>
                     </child>
                     <child>
@@ -1212,34 +1283,44 @@ LAN</property>
         <child internal-child="action_area">
           <widget class="GtkHButtonBox" id="hbuttonbox4">
             <property name="visible">True</property>
-            <property name="layout_style">GTK_BUTTONBOX_END</property>
+            <property name="layout_style">end</property>
             <child>
               <widget class="GtkButton" id="button7">
+                <property name="label">gtk-cancel</property>
+                <property name="response_id">-6</property>
                 <property name="visible">True</property>
                 <property name="can_focus">True</property>
                 <property name="can_default">True</property>
-                <property name="label">gtk-cancel</property>
+                <property name="receives_default">False</property>
                 <property name="use_stock">True</property>
-                <property name="response_id">-6</property>
               </widget>
+              <packing>
+                <property name="expand">False</property>
+                <property name="fill">False</property>
+                <property name="position">0</property>
+              </packing>
             </child>
             <child>
               <widget class="GtkButton" id="button8">
+                <property name="label">gtk-ok</property>
+                <property name="response_id">-5</property>
                 <property name="visible">True</property>
                 <property name="can_focus">True</property>
                 <property name="can_default">True</property>
-                <property name="label">gtk-ok</property>
+                <property name="receives_default">False</property>
                 <property name="use_stock">True</property>
-                <property name="response_id">-5</property>
               </widget>
               <packing>
+                <property name="expand">False</property>
+                <property name="fill">False</property>
                 <property name="position">1</property>
               </packing>
             </child>
           </widget>
           <packing>
             <property name="expand">False</property>
-            <property name="pack_type">GTK_PACK_END</property>
+            <property name="pack_type">end</property>
+            <property name="position">0</property>
           </packing>
         </child>
       </widget>
@@ -1248,7 +1329,7 @@ LAN</property>
   <widget class="GtkDialog" id="xdmcp_edit_dialog">
     <property name="visible">True</property>
     <property name="title" translatable="yes">Edit Connection</property>
-    <property name="type_hint">GDK_WINDOW_TYPE_HINT_DIALOG</property>
+    <property name="type_hint">dialog</property>
     <child internal-child="vbox">
       <widget class="GtkVBox" id="dialog-vbox9">
         <property name="visible">True</property>
@@ -1261,7 +1342,7 @@ LAN</property>
               <widget class="GtkFrame" id="frame2">
                 <property name="visible">True</property>
                 <property name="label_xalign">0</property>
-                <property name="shadow_type">GTK_SHADOW_NONE</property>
+                <property name="shadow_type">none</property>
                 <child>
                   <widget class="GtkAlignment" id="alignment9">
                     <property name="visible">True</property>
@@ -1288,6 +1369,7 @@ LAN</property>
                               <packing>
                                 <property name="expand">False</property>
                                 <property name="fill">False</property>
+                                <property name="position">0</property>
                               </packing>
                             </child>
                             <child>
@@ -1334,11 +1416,11 @@ LAN</property>
                         </child>
                         <child>
                           <widget class="GtkRadioButton" id="xdmcp_custom_window_radio">
+                            <property name="label" translatable="yes">Custom Window Size:</property>
                             <property name="visible">True</property>
                             <property name="can_focus">True</property>
-                            <property name="label" translatable="yes">Custom Window Size:</property>
+                            <property name="receives_default">False</property>
                             <property name="use_underline">True</property>
-                            <property name="response_id">0</property>
                             <property name="draw_indicator">True</property>
                             <property name="group">xdmcp_fullscreen_radio</property>
                           </widget>
@@ -1350,11 +1432,11 @@ LAN</property>
                         </child>
                         <child>
                           <widget class="GtkRadioButton" id="xdmcp_fullscreen_radio">
+                            <property name="label" translatable="yes">Fullscreen Window</property>
                             <property name="visible">True</property>
                             <property name="can_focus">True</property>
-                            <property name="label" translatable="yes">Fullscreen Window</property>
+                            <property name="receives_default">False</property>
                             <property name="use_underline">True</property>
-                            <property name="response_id">0</property>
                             <property name="active">True</property>
                             <property name="draw_indicator">True</property>
                             <property name="group">xdmcp_custom_window_radio</property>
@@ -1403,6 +1485,9 @@ LAN</property>
                   </packing>
                 </child>
               </widget>
+              <packing>
+                <property name="position">0</property>
+              </packing>
             </child>
           </widget>
           <packing>
@@ -1412,34 +1497,44 @@ LAN</property>
         <child internal-child="action_area">
           <widget class="GtkHButtonBox" id="dialog-action_area9">
             <property name="visible">True</property>
-            <property name="layout_style">GTK_BUTTONBOX_END</property>
+            <property name="layout_style">end</property>
             <child>
               <widget class="GtkButton" id="button11">
+                <property name="label">gtk-cancel</property>
+                <property name="response_id">-6</property>
                 <property name="visible">True</property>
                 <property name="can_focus">True</property>
                 <property name="can_default">True</property>
-                <property name="label">gtk-cancel</property>
+                <property name="receives_default">False</property>
                 <property name="use_stock">True</property>
-                <property name="response_id">-6</property>
               </widget>
+              <packing>
+                <property name="expand">False</property>
+                <property name="fill">False</property>
+                <property name="position">0</property>
+              </packing>
             </child>
             <child>
               <widget class="GtkButton" id="button12">
+                <property name="label">gtk-ok</property>
+                <property name="response_id">-5</property>
                 <property name="visible">True</property>
                 <property name="can_focus">True</property>
                 <property name="can_default">True</property>
-                <property name="label">gtk-ok</property>
+                <property name="receives_default">False</property>
                 <property name="use_stock">True</property>
-                <property name="response_id">-5</property>
               </widget>
               <packing>
+                <property name="expand">False</property>
+                <property name="fill">False</property>
                 <property name="position">1</property>
               </packing>
             </child>
           </widget>
           <packing>
             <property name="expand">False</property>
-            <property name="pack_type">GTK_PACK_END</property>
+            <property name="pack_type">end</property>
+            <property name="position">0</property>
           </packing>
         </child>
       </widget>
@@ -1448,7 +1543,7 @@ LAN</property>
   <widget class="GtkDialog" id="ssh_edit_dialog">
     <property name="visible">True</property>
     <property name="title" translatable="yes">dialog1</property>
-    <property name="type_hint">GDK_WINDOW_TYPE_HINT_DIALOG</property>
+    <property name="type_hint">dialog</property>
     <child internal-child="vbox">
       <widget class="GtkVBox" id="dialog-vbox10">
         <property name="visible">True</property>
@@ -1457,7 +1552,7 @@ LAN</property>
             <property name="visible">True</property>
             <property name="border_width">6</property>
             <property name="label_xalign">0</property>
-            <property name="shadow_type">GTK_SHADOW_NONE</property>
+            <property name="shadow_type">none</property>
             <child>
               <widget class="GtkAlignment" id="alignment10">
                 <property name="visible">True</property>
@@ -1470,12 +1565,6 @@ LAN</property>
                     <property name="column_spacing">6</property>
                     <property name="row_spacing">6</property>
                     <child>
-                      <placeholder/>
-                    </child>
-                    <child>
-                      <placeholder/>
-                    </child>
-                    <child>
                       <widget class="GtkEntry" id="password_entry2">
                         <property name="visible">True</property>
                         <property name="can_focus">True</property>
@@ -1513,11 +1602,11 @@ LAN</property>
                     </child>
                     <child>
                       <widget class="GtkCheckButton" id="x11_checkbox">
+                        <property name="label" translatable="yes">X11 Support</property>
                         <property name="visible">True</property>
                         <property name="can_focus">True</property>
-                        <property name="label" translatable="yes">X11 Support</property>
+                        <property name="receives_default">False</property>
                         <property name="use_underline">True</property>
-                        <property name="response_id">0</property>
                         <property name="draw_indicator">True</property>
                       </widget>
                       <packing>
@@ -1584,11 +1673,11 @@ LAN</property>
                     </child>
                     <child>
                       <widget class="GtkCheckButton" id="terminal_checkbox1">
+                        <property name="label" translatable="yes">Run in terminal window</property>
                         <property name="visible">True</property>
                         <property name="can_focus">True</property>
-                        <property name="label" translatable="yes">Run in terminal window</property>
+                        <property name="receives_default">False</property>
                         <property name="use_underline">True</property>
-                        <property name="response_id">0</property>
                         <property name="draw_indicator">True</property>
                       </widget>
                       <packing>
@@ -1618,6 +1707,12 @@ LAN</property>
                         <property name="y_options"></property>
                       </packing>
                     </child>
+                    <child>
+                      <placeholder/>
+                    </child>
+                    <child>
+                      <placeholder/>
+                    </child>
                   </widget>
                 </child>
               </widget>
@@ -1640,34 +1735,44 @@ LAN</property>
         <child internal-child="action_area">
           <widget class="GtkHButtonBox" id="dialog-action_area10">
             <property name="visible">True</property>
-            <property name="layout_style">GTK_BUTTONBOX_END</property>
+            <property name="layout_style">end</property>
             <child>
               <widget class="GtkButton" id="cancelbutton4">
+                <property name="label">gtk-cancel</property>
+                <property name="response_id">-6</property>
                 <property name="visible">True</property>
                 <property name="can_focus">True</property>
                 <property name="can_default">True</property>
-                <property name="label">gtk-cancel</property>
+                <property name="receives_default">False</property>
                 <property name="use_stock">True</property>
-                <property name="response_id">-6</property>
               </widget>
+              <packing>
+                <property name="expand">False</property>
+                <property name="fill">False</property>
+                <property name="position">0</property>
+              </packing>
             </child>
             <child>
               <widget class="GtkButton" id="okbutton4">
+                <property name="label">gtk-ok</property>
+                <property name="response_id">-5</property>
                 <property name="visible">True</property>
                 <property name="can_focus">True</property>
                 <property name="can_default">True</property>
-                <property name="label">gtk-ok</property>
+                <property name="receives_default">False</property>
                 <property name="use_stock">True</property>
-                <property name="response_id">-5</property>
               </widget>
               <packing>
+                <property name="expand">False</property>
+                <property name="fill">False</property>
                 <property name="position">1</property>
               </packing>
             </child>
           </widget>
           <packing>
             <property name="expand">False</property>
-            <property name="pack_type">GTK_PACK_END</property>
+            <property name="pack_type">end</property>
+            <property name="position">0</property>
           </packing>
         </child>
       </widget>
diff -up tsclient-2.0.2/src/plugins/default/tsc-vnc-connection.c.vnc-remotesize tsclient-2.0.2/src/plugins/default/tsc-vnc-connection.c
--- tsclient-2.0.2/src/plugins/default/tsc-vnc-connection.c.vnc-remotesize	2008-11-26 16:19:02.000000000 -0500
+++ tsclient-2.0.2/src/plugins/default/tsc-vnc-connection.c	2009-01-23 22:01:28.000000000 -0500
@@ -102,7 +102,7 @@ tsc_vnc_connection_start (TSCConnection 
 
 	if (connection->fullscreen) {
 		tsc_spawn_append_args (connection->spawn, "-fullscreen", NULL);
-	} else {
+	} else if (!connection->remotesize) {
 		char *geometry = g_strdup_printf ("%dx%d", connection->width,
 						  connection->height);
 
@@ -162,12 +162,9 @@ tsc_vnc_connection_save (TSCConnection *
 	g_key_file_set_boolean (keys, VNC_CONFIG_GROUP,
 				VNC_KEY_FULLSCREEN, connection->fullscreen);
 
-	if (connection->width > 0) {
+	if (!connection->fullscreen && !connection->remotesize) {
 		g_key_file_set_integer (keys, VNC_CONFIG_GROUP,
 					VNC_KEY_WIDTH, connection->width);
-	}
-
-	if (connection->height > 0) {
 		g_key_file_set_integer (keys, VNC_CONFIG_GROUP,
 					VNC_KEY_HEIGHT, connection->height);
 	}
@@ -188,11 +185,13 @@ tsc_vnc_connection_restore (TSCConnectio
 						       VNC_KEY_VIEWONLY, NULL);
 	connection->fullscreen = g_key_file_get_boolean (keys, VNC_CONFIG_GROUP,
 							 VNC_KEY_FULLSCREEN, NULL);
-
 	connection->width = g_key_file_get_integer (keys, VNC_CONFIG_GROUP,
 						    VNC_KEY_WIDTH, NULL);
 	connection->height = g_key_file_get_integer (keys, VNC_CONFIG_GROUP,
 						     VNC_KEY_HEIGHT, NULL);
+
+	connection->remotesize = !connection->fullscreen &&
+		!connection->width && !connection->height;
 }
 
 static void
diff -up tsclient-2.0.2/src/plugins/default/tsc-vnc-connection.h.vnc-remotesize tsclient-2.0.2/src/plugins/default/tsc-vnc-connection.h
--- tsclient-2.0.2/src/plugins/default/tsc-vnc-connection.h.vnc-remotesize	2008-11-26 16:19:02.000000000 -0500
+++ tsclient-2.0.2/src/plugins/default/tsc-vnc-connection.h	2009-01-23 22:01:28.000000000 -0500
@@ -23,6 +23,7 @@ typedef struct _TSCVncConnection {
 	gboolean shared;
 	gboolean viewonly;
 	gboolean fullscreen;
+	gboolean remotesize;
 	
 	int width;
 	int height;
diff -up tsclient-2.0.2/src/plugins/default/tsc-vnc-edit-dialog.c.vnc-remotesize tsclient-2.0.2/src/plugins/default/tsc-vnc-edit-dialog.c
--- tsclient-2.0.2/src/plugins/default/tsc-vnc-edit-dialog.c.vnc-remotesize	2009-01-23 22:01:28.000000000 -0500
+++ tsclient-2.0.2/src/plugins/default/tsc-vnc-edit-dialog.c	2009-01-23 22:07:44.000000000 -0500
@@ -64,6 +64,11 @@ tsc_vnc_edit_dialog_load (TSCEditDialog 
 		gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (glade_xml_get_widget (dialog->xml,
 										       "vnc_fullscreen_radio")),
 					      TRUE);
+	} else if (connection->remotesize) {
+		gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (glade_xml_get_widget (dialog->xml,
+								 "vnc_remotesize_radio")),
+						TRUE);
+ 
 	} else {
 		gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (glade_xml_get_widget (dialog->xml,
 										       "vnc_custom_window_radio")),
@@ -133,6 +138,10 @@ tsc_vnc_edit_dialog_save (TSCEditDialog 
 	connection->fullscreen = gtk_toggle_button_get_active (GTK_TOGGLE_BUTTON (
 								       glade_xml_get_widget (dialog->xml,
 											     "vnc_fullscreen_radio")));
+	connection->remotesize = gtk_toggle_button_get_active (GTK_TOGGLE_BUTTON (
+								glade_xml_get_widget (dialog->xml,
+										      "vnc_remotesize_radio")));
+
 	connection->width = gtk_spin_button_get_value_as_int (GTK_SPIN_BUTTON (
 								      glade_xml_get_widget (dialog->xml,
 											    "vnc_width_spin")));
